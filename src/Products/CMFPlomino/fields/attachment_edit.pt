<tal:define tal:define="field python:options['field'];
    doc python:options['doc'];
    token python:doc.restrictedTraverse('@@authenticator').token();">
    <tal:block tal:condition="options/show_upload" tal:repeat="attachment options/fieldvalue">
        <a href="#" class="file-attachment"  tal:attributes="href python:doc.doc_url()+'/getfile?filename='+attachment;data-filename python:attachment"
            tal:content="attachment">filename</a>
         <a  class="btn btn-danger delete-attachment" tal:attributes="data-filename python:attachment;data-field string:${field/id}">Delete</a>
            <input type="checkbox" name="attachment-delete" tal:attributes="data-filename python:attachment;value python:attachment">
        <br/>

    </tal:block>

    <tal:widget tal:condition="python:field.single_or_multiple=='SINGLE'" >
        <input type="file" tal:attributes="id field/id; name field/id;" />
    </tal:widget>
    <tal:widget tal:condition="python:not field.single_or_multiple=='SINGLE'" >
        <input type="file" multiple tal:attributes="id field/id; name field/id;" />
    </tal:widget>
</tal:define>
